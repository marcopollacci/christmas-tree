const style=fetch(document.URL.includes(":8080")?"./components/snowflake.css":document.currentScript.getAttribute("cssUrl")).then((e=>e.text())),MAX_SNOWFLAKES=1500;class SnowFlakes extends HTMLElement{static observedAttributes=["flakes"];constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='<div class="snow-area"></div>',style.then((e=>{const t=new CSSStyleSheet;t.replaceSync(e),this.shadowRoot.adoptedStyleSheets.push(t)}))}connectedCallback(){this.flakes||this.#e()}disconnectedCallback(){this.shadowRoot.querySelector(".snow-area").innerHTML=""}get flakes(){return this.getAttribute("flakes")}set flakes(e){e!==this.flakes&&this.setAttribute("flakes",e)}attributeChangedCallback(e,t,s){if("flakes"===e){this.shadowRoot.querySelector(".snow-area").innerHTML="";const e=s>=1500;e&&console.error(`The maximum number of snowflakes is 1500, the current value is ${s}`),this.#e(e?1500:s)}}#e(e=100){for(let t=0;t<e;t++)this.shadowRoot.querySelector(".snow-area").appendChild(snowFlakeMaker().next().value)}}function*snowFlakeMaker(){const e=document.createElement("span"),t=randomize(.15,.85),s=randomize(0,100);e.classList.add("snowflake"),e.classList.add(`c${randomize(1,3,!0)}`),e.style.insetInlineStart=`${s}%`,e.style.width=`${t}vw`,e.style.height=`${t}vw`,e.style.animationDelay=`${randomize(0,60)}s`,yield e}function randomize(e,t,s=!1){const n=Math.random()*(t-e)+e;return s?Math.round(n):n}customElements.define("snow-flakes",SnowFlakes);